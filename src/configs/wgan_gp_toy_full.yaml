# Full training configuration for WGAN-GP with ToyTire dataset

model:
  type: wgan_gp
  image_size: [64, 32]  # ToyTire: 64x64
  # channels: auto-calculated from len(component_dirs) = 3
  # cond_dim: auto-calculated from len(condition_columns) = 4
  latent_dim: 128
  gen_dim: 64
  disc_dim: 64
  lambda_gp: 10  # Gradient penalty weight
  n_critic: 5  # Critic updates per generator update
  cond_drop_prob: 0.1

data:
  root_dir: "data/toy_epure"
  condition_csv: "data/toy_epure/performances.csv"
  component_dirs: ["group_nc", "group_km", "fpu"]  # 3 components
  condition_columns: ["d_cons", "d_rigid", "d_life", "d_stab"]
  prefix_column: "matching"
  filename_pattern: "{prefix}_{component}.png"  # toy_00001_group_nc.png
  split_column: "train"
  normalized: false

training:
  epochs: 500
  batch_size: 64
  num_workers: 4
  lr_gen: 0.0001
  lr_disc: 0.0001
  beta1: 0.0
  beta2: 0.9
  eval_every: 50
  check_every: 50
  seed: 0

paths:
  output_dir: "outputs/wgan_gp_toy/"
  samples_dir: "samples/wgan_gp_toy/"

sampling:
  num_samples: 16
  batch_sz: 8
  guidance_scale: 2.0
  mode: conditional
  components: ["group_nc", "group_km"]  # For inpainting mode
