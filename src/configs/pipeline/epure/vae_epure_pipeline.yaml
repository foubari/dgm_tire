model:
  type: vae
  image_size:
  - 64
  - 32  # EPURE uses rectangular images (64 height x 32 width)
  channels: 5
  cond_dim: 2  # Must match condition_columns count
  latent_dim: 32
  nf: 72  # Base number of filters
  nf_max: 1024  # Maximum filters
  nf_max_encoder: 1024  # Encoder maximum filters
  nf_max_decoder: 512  # Decoder maximum filters (half of encoder)
  beta: 1.0  # KL divergence weight
  dropout_p: 0.1
data:
  root_dir: data/epure
  condition_csv: data/epure/performances.csv
  component_dirs:
  - group_nc
  - group_km
  - bt
  - fpu
  - tpc
  condition_columns:
  - width_px
  - height_px
  prefix_column: matching
  filename_pattern: 'mdbk_{prefix}_{component}.png'
  split_column: train
  normalized: true
training:
  epochs: 100
  batch_size: 128
  num_workers: 4
  lr: 0.0002
  weight_decay: 0.0001
  warmup_epochs: 20
  max_mask_prob: 0.7
  eval_every: 10
  check_every: 25
  seed: 0
paths:
  output_dir: outputs/vae/
  samples_dir: samples/vae/
sampling:
  num_samples: 1000
  batch_sz: 16
  mode: conditional
